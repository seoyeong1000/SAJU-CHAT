# TODO - AI ì‚¬ì£¼ ì„œë¹„ìŠ¤ ê°œë°œ ì²´í¬ë¦¬ìŠ¤íŠ¸

> **Last Updated:** 2025-12-26
> **ì „ëµ:** ì„ íƒê³¼ ì§‘ì¤‘ - MVP ë¨¼ì €, ë‚˜ë¨¸ì§€ëŠ” Backlog
> **í˜„ì¬ ë‹¨ê³„:** âœ… Backend ì™„ë£Œ â†’ âœ… Frontend UI ì™„ë£Œ â†’ âœ… ê³µìœ  ê¸°ëŠ¥ ì™„ë£Œ â†’ ğŸ¯ **ë°°í¬ ì¤€ë¹„ ì¤‘**

---

## ğŸš€ Phase 1: MVP (ì„œë¹„ìŠ¤ ëŸ°ì¹­ í•„ìˆ˜ ê¸°ëŠ¥)

> **ëª©í‘œ:** ë¬´ë£Œ ë§Œì„¸ë ¥ + ê¸°ë³¸ í•´ì„ + ê³µìœ  ê¸°ëŠ¥ìœ¼ë¡œ ë¹ ë¥´ê²Œ ëŸ°ì¹­

---

### 1. ë°ì´í„° êµ¬ì¶• (Database & Seed) âœ… ì™„ë£Œ

- [x] Supabase DDL v3.0 ì ìš©
- [x] `interpretation_base` í…Œì´ë¸” êµ¬ì¡° ìƒì„±
- [x] CSV ë°ì´í„° í‘œì¤€í™” (`data/interpretation.csv`)
- [x] ì‹œë“œ ìŠ¤í¬ë¦½íŠ¸ êµ¬í˜„ (`npm run seed`)
- [ ] ì „ì²´ ì¼ì£¼ í•´ì„ ë°ì´í„° ì ì¬ (í˜„ì¬ ìƒ˜í”Œ 1ê±´)

---

### 2. ë°±ì—”ë“œ ë¡œì§ (Backend API) âœ… ì™„ë£Œ

#### ë§Œì„¸ë ¥ ì—”ì§„
- [x] Swiss Ephemeris WASM ì—°ë™
- [x] ì§„íƒœì–‘ì‹œ(TST) ê³„ì‚° + EoT ë³´ì •
- [x] ì›”ì§€ íŒì • (íƒœì–‘í™©ê²½ 315Â° ê¸°ì¤€)
- [x] ìì‹œ ì •ì±… (traditional/modern)
- [x] ì‹œê°„ ëª¨ë¦„(Unknown Time) ì²˜ë¦¬

#### API ì—”ë“œí¬ì¸íŠ¸
- [x] `POST /api/saju/calculate` - ì‚¬ì£¼ ê³„ì‚° + í•´ì„ í†µí•©
- [x] `POST /api/mansaeryeok/calc` - ë§Œì„¸ë ¥ ê³„ì‚° + í•´ì„
- [x] `GET /api/bazi-test` - ì—”ì§„ í…ŒìŠ¤íŠ¸

#### í•´ì„ ë°ì´í„° ì—°ë™
- [x] `lib/interpretation/lookup.ts` êµ¬í˜„
  - `buildLogicKey()`: ê°„ì§€ â†’ logic_key ë³€í™˜
  - `getDayPillarInterpretation()`: DB ì¡°íšŒ
- [x] API ì‘ë‹µì— í•´ì„ ë°ì´í„° í¬í•¨
- [x] ê²°ê³¼ JSON ë°˜í™˜ í…ŒìŠ¤íŠ¸ âœ… ì„±ê³µ

---

### 3. í”„ë¡ íŠ¸ì—”ë“œ UI (Frontend) âœ… ì™„ë£Œ

> **ğŸ¯ FOCUS:** Modern Wellness ìŠ¤íƒ€ì¼ë¡œ êµ¬í˜„

#### ì…ë ¥ í˜ì´ì§€ (`/mansaeryeok`)
- [x] ê¸°ë³¸ í¼ êµ¬ì¡°
- [x] ìƒë…„ì›”ì¼ DatePicker (ì–‘ë ¥/ìŒë ¥/ìŒë ¥(ìœ¤ë‹¬) ì„ íƒ)
- [x] ì‹œê°„ ì…ë ¥ (12ì‹œì§„) + "ì‹œê°„ ëª¨ë¦„" ì²´í¬ë°•ìŠ¤
- [x] ì•¼ìì‹œ/ì¡°ìì‹œ ì˜µì…˜ (UI + ë°ì´í„° ì €ì¥)
  - âš ï¸ ë§Œì„¸ë ¥ ì—”ì§„ ì ìš©ì€ ë¯¸êµ¬í˜„ (ì¶”í›„ ì‹¤ì œ ì—”ì§„ ì—°ë™ ì‹œ ì ìš©)
- [x] ì¶œìƒ ë„ì‹œ ê²€ìƒ‰ (ì§€ì—­ì‹œ ë³´ì •ìš©)
- [x] ë¡œë”© ìƒíƒœ UI (ìŠ¤í”¼ë„ˆ)
- [x] í¼ ìœ íš¨ì„± ê²€ì¦ + ì—ëŸ¬ ë©”ì‹œì§€
- [x] **ì €ì¥ëœ ë§Œì„¸ë ¥ ë¶ˆëŸ¬ì˜¤ê¸°** (Sheet UI)

#### ê²°ê³¼ í˜ì´ì§€ (`/mansaeryeok/result`)
- [x] ê¸°ë³¸ í˜ì´ì§€ êµ¬ì¡°
- [x] ìƒë‹¨ í—¤ë” (ì–‘ë ¥/ìŒë ¥ ë³€í™˜, ë  ì •ë³´, ì§€ì—­ì‹œ ë³´ì •)
- [x] ì‚¬ì£¼íŒ”ì í…Œì´ë¸” ì‹œê°í™” (ì²œê°„/ì§€ì§€, ì§€ì¥ê°„, 12ìš´ì„±, 12ì‹ ì‚´)
- [x] ì˜¤í–‰ ë¹„ìœ¨ ë§‰ëŒ€ ì°¨íŠ¸
- [x] ì¼ì£¼ í•´ì„ í…ìŠ¤íŠ¸
- [x] **ê²©êµ­ & ìš©ì‹ ** ì¹´ë“œ
- [x] **ëŒ€ìš´ ì„¸ìš´** íƒ­ UI (10ëŒ€~60ëŒ€)
- [x] **ì£¼ìš” ì‹ ì‚´** í‘œì‹œ (ê¸¸ì‹ /í‰ì‚´ êµ¬ë¶„)
- [x] **ëª…ë¦¬ ì‹¬ì¸µ í•´ì„ ì—”ì§„** ì•ˆë‚´ ì¹´ë“œ
- [x] **ì˜¤í–‰ ë°¸ëŸ°ì‹± ì‚¬ìš´ë“œ** (ìœ íŠœë¸Œ ì—°ë™)
- [x] ì €ì¥/ê³µìœ /ì¸ì‡„ ë²„íŠ¼

#### ì¸ì¦ í˜ì´ì§€
- [x] `/sign-in` ë¡œê·¸ì¸ í˜ì´ì§€ (Clerk)

#### ê³µí†µ ì»´í¬ë„ŒíŠ¸
- [x] ëª¨ë°”ì¼ ë°˜ì‘í˜• UI
- [x] Header/Footer ë””ìì¸ ì™„ì„±
  - Navbar: ë¡œê³ , ë„¤ë¹„ê²Œì´ì…˜ ë§í¬, ëª¨ë°”ì¼ ë©”ë‰´
  - Footer: ì„œë¹„ìŠ¤ ì •ë³´, ë§í¬, ì €ì‘ê¶Œ

---

### 4. í•µì‹¬ ê¸°ëŠ¥ (Core Feature) âœ… ì™„ë£Œ

#### ê³µìœ  ê¸°ëŠ¥
- [x] Web Share API (ëª¨ë°”ì¼)
- [x] ë§í¬ ë³µì‚¬ ë²„íŠ¼ (í´ë¦½ë³´ë“œ)
- [x] ì¹´ì¹´ì˜¤í†¡ ê³µìœ í•˜ê¸° (ì¹´ì¹´ì˜¤ SDK)
  - `lib/kakao.ts`: SDK ìœ í‹¸ë¦¬í‹°
  - `components/providers/kakao-provider.tsx`: SDK ë¡œë”
- [x] ê²°ê³¼ ì´ë¯¸ì§€ ì €ì¥ (html2canvas)
  - `handleSaveImage()` í•¨ìˆ˜ êµ¬í˜„
  - PNG ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥

#### ì €ì¥ ê¸°ëŠ¥
- [x] ë¡œê·¸ì¸ ì‚¬ìš©ì DB ì €ì¥ (`saju_charts` í…Œì´ë¸”)
- [x] ì €ì¥ëœ ë§Œì„¸ë ¥ ëª©ë¡ ì¡°íšŒ API (`/api/mansaeryeok/list`)
- [x] ë¹„íšŒì› â†’ ë¡œê·¸ì¸ í›„ ì €ì¥ í”Œë¡œìš°

#### ê²ŒìŠ¤íŠ¸ ë°ì´í„° ê´€ë¦¬
- [x] URL íŒŒë¼ë¯¸í„° ê¸°ë°˜ ê²°ê³¼ í‘œì‹œ (ë¹„íšŒì›)
- [x] ë¡œê·¸ì¸ í›„ ì €ì¥ ìœ ë„ ë°°ë„ˆ

---

### 5. ë°°í¬ ì¤€ë¹„ ğŸ‘ˆ í˜„ì¬ ì‘ì—…

- [ ] `/terms`, `/privacy` ì •ì  í˜ì´ì§€
- [x] Footerì— Legal ë§í¬ ë…¸ì¶œ
- [ ] `public/og-default.png` OG ì´ë¯¸ì§€
- [ ] ì¹´ì¹´ì˜¤ ê°œë°œì ì•± ì„¤ì • (NEXT_PUBLIC_KAKAO_JS_KEY)
- [ ] Vercel ë°°í¬ ì„¤ì •
- [ ] `.env.example` ì •ë¦¬

---

## ğŸ§Š Phase 2: Backlog (ì˜¤í”ˆ í›„ ê³ ë„í™”)

> **ì„¤ê³„ëŠ” PRDì— ìˆìŒ.** ëŸ°ì¹­ í›„ ìˆœì°¨ì ìœ¼ë¡œ ê°œë°œ

### ìœ ë£Œ ì‚¬ì£¼í’€ì´ ë¦¬í¬íŠ¸
> ğŸ“„ `docs/prd/PRD2_FINAL_v2.1.md`

- [ ] `entitlements` í…Œì´ë¸” (ê²°ì œ=ê¶Œí•œ=ì°¨íŠ¸ 1:1)
- [ ] ê²°ì œ ì—°ë™ (Toss Payments)
- [ ] `/pricing` ìƒí’ˆ í˜ì´ì§€
- [ ] `/vault/reports` êµ¬ë§¤ ë¦¬í¬íŠ¸ ëª©ë¡

### AI ì‚¬ì£¼ìƒë‹´ ì±„íŒ…
> ğŸ“„ `docs/prd/PRD3_FINAL_v3.1.md`

- [ ] n8n ë°°í¬ (Railway)
- [ ] í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œ (ë„í™”ë„ë¥´/ì„ ìš´/ì–¸ë‹ˆ)
- [ ] `/chat` ì±„íŒ… UI

### íšŒì› ê¸°ëŠ¥ ê³ ë„í™”
- [x] `/vault/charts` ì €ì¥ëœ ì‚¬ì£¼ ëª©ë¡
- [x] `/account/profile` í”„ë¡œí•„ í˜ì´ì§€ (ìƒë‹´ í¬ë ˆë”§ placeholder í¬í•¨)
- [ ] `/account/billing` ê²°ì œ ë‚´ì—­ (Phase 2 ê²°ì œ ì—°ë™ í›„)
- [ ] `credit_logs` í…Œì´ë¸” + í¬ë ˆë”§ ì‹œìŠ¤í…œ (Phase 2 ìƒë‹´ ì—°ë™ í›„)

### ê³ ê°ì„¼í„° & ìš´ì˜ (DB ì™„ë£Œ âœ…)
> í…Œì´ë¸” ìƒì„± ì™„ë£Œ: `support_posts`, `faq_items`, `notices`, `events`, `coupons`, `coupon_redemptions`

- [x] `profiles.is_admin` ê´€ë¦¬ì ê¶Œí•œ ì»¬ëŸ¼
- [x] `support_posts` 1:1 ë¬¸ì˜ í…Œì´ë¸”
- [x] `faq_items` FAQ í…Œì´ë¸”
- [x] `notices` ê³µì§€ì‚¬í•­ í…Œì´ë¸”
- [x] `events` ì´ë²¤íŠ¸ í…Œì´ë¸”
- [x] `coupons` + `coupon_redemptions` ì¿ í° í…Œì´ë¸”
- [x] RLS ì •ì±… ìƒì„± (ë°°í¬ ì „ í™œì„±í™” í•„ìš”)
- [x] `/support` 1:1 ë¬¸ì˜ í˜ì´ì§€
- [x] `/faq` FAQ í˜ì´ì§€
- [ ] `/notices` ê³µì§€ì‚¬í•­ í˜ì´ì§€

### ìš´ì˜ ê¸°ëŠ¥
- [ ] Sentry ì—ëŸ¬ ëª¨ë‹ˆí„°ë§
- [ ] GA4/PostHog ì´ë²¤íŠ¸ íŠ¸ë˜í‚¹
- [ ] Rate Limit ì ìš©
- [ ] RLS ì •ì±… í™œì„±í™” (ë°°í¬ ì „)

---

## ğŸ“‹ Quick Reference

### API ì—”ë“œí¬ì¸íŠ¸
| API | ìš©ë„ | ìƒíƒœ |
|-----|------|------|
| `POST /api/saju/calculate` | ì‚¬ì£¼ ê³„ì‚° + í•´ì„ í†µí•© | âœ… |
| `POST /api/mansaeryeok/calc` | ë§Œì„¸ë ¥ ê³„ì‚° + í•´ì„ | âœ… |
| `POST /api/mansaeryeok/save` | ë§Œì„¸ë ¥ ì €ì¥ | âœ… |
| `GET /api/mansaeryeok/list` | ì €ì¥ëœ ë§Œì„¸ë ¥ ëª©ë¡ | âœ… |
| `POST /api/sync-user` | Clerkâ†’Supabase ì‚¬ìš©ì ë™ê¸°í™” | âœ… |
| `GET /api/bazi-test` | ì—”ì§„ í…ŒìŠ¤íŠ¸ | âœ… |
| `POST /api/chat/message` | ìƒë‹´ ì±„íŒ… | â¬œ Phase 2 |

### í•µì‹¬ ëª¨ë“ˆ
| ëª¨ë“ˆ | ê²½ë¡œ | ì„¤ëª… |
|------|------|------|
| ë§Œì„¸ë ¥ ì—”ì§„ | `lib/manse/` | ì‚¬ì£¼ ê³„ì‚° í•µì‹¬ ë¡œì§ |
| í•´ì„ ì¡°íšŒ | `lib/interpretation/` | DB í•´ì„ ë°ì´í„° ì¡°íšŒ |
| ìŒë ¥ ë³€í™˜ | `lib/utils/lunar-converter.ts` | ì–‘ë ¥â†”ìŒë ¥ ë³€í™˜ |
| Supabase í´ë¼ì´ì–¸íŠ¸ | `lib/supabase/` | í™˜ê²½ë³„ DB í´ë¼ì´ì–¸íŠ¸ |

### DB í…Œì´ë¸”
| í…Œì´ë¸” | ìš©ë„ | ìƒíƒœ |
|--------|------|------|
| `profiles` | ì‚¬ìš©ì í”„ë¡œí•„ (Clerk ë™ê¸°í™”) + `is_admin` | âœ… |
| `saju_charts` | ì €ì¥ëœ ë§Œì„¸ë ¥ | âœ… |
| `interpretation_base` | ì¼ì£¼ í•´ì„ í…ìŠ¤íŠ¸ | âœ… |
| `chart_analysis_results` | ë¶„ì„ ê²°ê³¼ | âœ… |
| `support_posts` | 1:1 ë¬¸ì˜ ê²Œì‹œíŒ | âœ… |
| `faq_items` | FAQ | âœ… |
| `notices` | ê³µì§€ì‚¬í•­ | âœ… |
| `events` | ì´ë²¤íŠ¸/í”„ë¡œëª¨ì…˜ | âœ… |
| `coupons` | ì¿ í° ë§ˆìŠ¤í„° | âœ… |
| `coupon_redemptions` | ì¿ í° ì‚¬ìš© ì´ë ¥ | âœ… |
| `entitlements` | êµ¬ë§¤ ê¶Œí•œ | â¬œ Phase 2 |
| `chat_sessions` | ìƒë‹´ ì„¸ì…˜ | â¬œ Phase 2 |

### ë°°í¬ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸
```sql
-- RLS í™œì„±í™” (ë°°í¬ ì „ í•„ìˆ˜ ì‹¤í–‰)
ALTER TABLE public.support_posts ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.faq_items ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.notices ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.events ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.coupons ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.coupon_redemptions ENABLE ROW LEVEL SECURITY;
```

### ì°¸ê³  ë¬¸ì„œ
- PRD1 (ë§Œì„¸ë ¥): `docs/prd/PRD1_FINAL_v1.3.md`
- PRD2 (ë¦¬í¬íŠ¸): `docs/prd/PRD2_FINAL_v2.1.md`
- PRD3 (ì±„íŒ…): `docs/prd/PRD3_FINAL_v3.1.md`
- ê¸°ëŠ¥ëª…ì„¸ì„œ: `docs/specs/ê¸°ëŠ¥ëª…ì„¸ì„œ_í†µí•©_FINAL_v1.7.md`
